<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"> 
    <title>PeaceQ</title>
    <style>
        /* 移除原字体定义，改为动态加载 */
        .circular-image {
            position: absolute;
            left: 11%;
            top: 20%;
            width: 100px;
            height: 100px;
            border-radius: 50%;
            background-color: #f0f0f0;
            overflow: hidden;
            border: 1.5px solid #333;
        }
        
        .circular-image img { 
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .image-text {
            position: absolute;
            left: 11%;
            top: 35%;
            font-family: 'Brie', sans-serif; /* 动态加载的字体 */
            font-size: 25px;
            font-weight: bold;
            color: black;
            text-align: center;
            width: 100px;
        }

        .custom-image {
            position: absolute;
            left: 7%;
            top: 0%;
            width: 150px;
            height: auto;
        }

        .vertical-line {
            position: absolute;
            left: 30%;
            top: 0;
            bottom: 0;
            width: 1px;
            background-color: black;
        }
        
        .horizontal-line {
            position: absolute;
            top: 7%;
            left: 0;
            right: 0;
            height: 1px;
            background-color: black;
        }
    </style>
</head>
<body>
    <div class="circular-image">
        <img src="https://avatars.githubusercontent.com/u/201522321?s=400&u=e0cc84ceb3f3d1445e3fb70ecd3ad70226288c99&v=4" alt="用户头像">
    </div>
    <div class="image-text">PeaceQ</div>

    <div class="vertical-line"></div>
    <div class="horizontal-line"></div>
    <a href="https://docs.github.com/zh/pages/getting-started-with-github-pages/about-github-pages" target="_blank">
        <img class="custom-image" id="customImage" alt="GitHub Page 图标">
    </a>

    <script>
        // 字体加载器
        (function() {
            // 字体配置
            const fontSources = {
                direct: 'https://cdn.jsdelivr.net/gh/PeaceQind/PeaceQind.github.io/asstes/font/BRI293.TTF',
                fallback: 'asstes/font/BRI293.TTF'
            };

            // 创建字体加载承诺
            const loadFont = (source) => {
                return new Promise((resolve, reject) => {
                    const font = new FontFace('Brie', `url(${source})`, {
                        style: 'normal',
                        weight: '400'
                    });

                    font.load().then(loadedFont => {
                        document.fonts.add(loadedFont);
                        resolve(source);
                        console.log(`字体加载成功: ${source}`);
                    }).catch(err => {
                        console.warn(`字体加载失败: ${source}`);
                        reject(err);
                    });
                });
            };

            // 启动竞速加载
            Promise.race([
                loadFont(fontSources.direct),
                loadFont(fontSources.fallback)
            ]).then(loadedSource => {
                console.log(`使用字体源: ${loadedSource}`);
                // 触发页面重绘
                document.body.style.fontFamily = 'Brie';
            }).catch(err => {
                console.error('所有字体源加载失败:', err);
            });
        })();

        // 图片加载器（优化版）a
        (function() {
            const customImage = document.getElementById('customImage');
            
            // 图片源配置
            const imgSources = {
                direct: [
                    /*'https://cdn.jsdelivr.net/gh/PeaceQind/PeaceQind.github.io/asstes/icon/githubpages.svg'*/
                    'https://cdn.jsdelivr.net/gh/PeaceQind/PeaceQind.github/asstes/icon/PeaceQTitle.svg'
                ],
                fallback: 'asstes/icon/PeaceQTitle.svg'
            };

            // 创建图片加载承诺
            const loadImage = (src) => {
                return new Promise((resolve, reject) => {
                    const img = new Image();
                    img.onload = () => resolve(src);
                    img.onerror = (err) => reject(err);
                    img.src = src;
                });
            };

            // 启动竞速加载
            Promise.race([
                ...imgSources.direct.map(src => loadImage(src)),
                loadImage(imgSources.fallback)
            ]).then(loadedSrc => {
                customImage.src = loadedSrc;
                console.log(`图片加载成功: ${loadedSrc}`);
            }).catch(err => {
                console.error('所有图片源加载失败:', err);
                customImage.style.display = 'none';
            });
        })();
    </script>
</body>
</html>
